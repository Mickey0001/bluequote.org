var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,m,e){a instanceof String&&(a=String(a));for(var h=a.length,f=0;f<h;f++){var t=a[f];if(m.call(e,t,f,a))return{i:f,v:t}}return{i:-1,v:void 0}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,m,e){a!=Array.prototype&&a!=Object.prototype&&(a[m]=e.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};
$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(a,m,e,h){if(m){e=$jscomp.global;a=a.split(".");for(h=0;h<a.length-1;h++){var f=a[h];f in e||(e[f]={});e=e[f]}a=a[a.length-1];h=e[a];m=m(h);m!=h&&null!=m&&$jscomp.defineProperty(e,a,{configurable:!0,writable:!0,value:m})}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,e){return $jscomp.findInternal(this,a,e).v}},"es6-impl","es3");
(function(a){function m(b,c){this.element=a(b);this.options=a.extend({},x,c);this.init()}var e="desktop",h,f=!1,t,u=!0,p=!1,g,d,v,w,r,l,q=a(window.top.document),n,x={append:!0,dropitems:null,elements:null,onDragStart:null,onDrag:null,onDragEnter:null,onDragLeave:null,onDragEnd:null,onDrop:null};m.prototype={init:function(){!1===p&&(r=a("<div/>",{id:"themify_builder_placeholder_body","class":"themify_builder_placeholder_helper"}),p=a("<div/>",{id:"themify_builder_placeholder_iframe","class":"themify_builder_placeholder_helper"}),
n=a("body"),n.prepend(p).on("themify_builder_change_mode",this.changeMode),v=a("#tb_toolbar",q),w=a("#themify_builder_fixed_bottom_scroll",q),a("body",q).append(r));this.element.on("mousedown touchstart",this.mouseDown.bind(this))},elpos:{},size:{w:"",h:""},SetSide:function(b){b=b.pageY>d.offset().top+d.outerHeight()/2?"bottom":"top";d[0].dataset.pos!==b&&d.attr("data-pos",b)},mouseDown:function(b){if(1!==b.which||b.target.classList.contains("themify_module_favorite")||b.target.classList.contains("add_module_btn"))g=
l=d=null;else{b.preventDefault();f=!1;g=this.element;this.elpos=g.offset();u=!1;this.setCurrentPlaceHolder(b);var c=g[0].outerHTML;p.removeClass("drop_animate").hide().html(c);r.removeClass("drop_animate").hide().html(c);l.show();this.size.w=l.outerWidth()/2;this.size.h=l.outerHeight();a(document).on("mousemove.tb_visual",this.mouseMove.bind(this)).on("mouseup.tb_visual",this.mouseUp.bind(this)).on("mouseenter.tb_visual",this.iframeEnter.bind(this)).on("mouseleave.tb_visual",this.iframeLeave.bind(this)).on("mouseenter.tb_visual",
this.options.dropitems,this.mouseEnter.bind(this)).on("mouseleave.tb_visual",this.options.dropitems,this.mouseLeave.bind(this));q.on("mousemove.tb_visual",this.mouseMove.bind(this)).on("mouseup.tb_visual",this.mouseUp.bind(this));w.on("mouseenter.tb_visual",this.scroll.bind(this)).on("mouseleave.tb_visual",this.scrollUp.bind(this));v.on("mouseenter.tb_visual",this.scroll.bind(this)).on("mouseleave.tb_visual",this.scrollUp.bind(this));this.mouseMove(b);c=a("body",q);c=c.add(a("body"));c.addClass("themify_builder_drag_start");
a.isFunction(this.options.onDragStart)&&this.options.onDragStart.call(this,b,g)}},mouseMove:function(b){b.stopPropagation();if(g&&l)if(f){var c=this,k=n.add(n.closest("html"));k.stop().animate({scrollTop:f},{duration:800,step:function(e){f?(e="down"===h?w.offset().top-t:v.offset().top+t,l.css("top",e)):k.stop();a.isFunction(c.options.onDrag)&&c.options.onDrag.call(c,b,g,d)},complete:function(){c.checkScrollEnd()||(k.stop(),f=h=!1,c.setPlaceHolder(b))}})}else this.setPlaceHolder(b)},setCurrentPlaceHolder:function(){l=
u?p:r},setPlaceHolder:function(b){l.css({top:b.originalEvent.pageY-this.size.h-12,left:b.originalEvent.pageX-this.size.w});d&&this.SetSide(b);a.isFunction(this.options.onDrag)&&this.options.onDrag.call(this,b,g,d)},removeAttr:function(){for(var b=document.querySelectorAll("[data-pos]"),a=0,d=b.length;a<d;++a)b[a].removeAttribute("data-pos")},mouseUp:function(b){a(document).off("mousemove.tb_visual").off("mouseup.tb_visual").off("mouseenter.tb_visual").off("mouseleave.tb_visual").off("mouseenter.tb_visual").off("mouseleave.tb_visual");
q.off("mousemove.tb_visual").off("mouseup.tb_visual");w.off("mouseenter.tb_visual").off("mouseleave.tb_visual");v.off("mouseenter.tb_visual").off("mouseleave.tb_visual");if(g&&l&&!b.isTrigger){b.stopPropagation();b={};var c=g.clone();d?(b.top=d.offset().top,b.left=d.offset().left,"bottom"===d[0].dataset.pos&&(b.top+=d.outerHeight())):(b.top=this.elpos.top,b.left=this.elpos.left);f=g=null;var k=this;l.addClass("drop_animate").css(b).one(themifybuilderapp.Utils.transitionPrefix(),function(b){var e=
a("body",q),e=e.add("body");e.removeClass("themify_builder_drag_start");d&&d[0].dataset.pos?(c.hide(),"bottom"===d[0].dataset.pos?k.options.append&&!d[0].classList.contains(k.options.elements.replace(".",""))?d.append(c):d.after(c):k.options.append&&!d[0].classList.contains(k.options.elements.replace(".",""))?d.prepend(c):d.before(c),k.removeAttr(),a.isFunction(k.options.onDrop)&&k.options.onDrop.call(k,b,c,d),d=null):a.isFunction(k.options.onDragEnd)&&k.options.onDragEnd.call(k,b,c);p.empty().removeAttr("style");
r.empty().removeAttr("style")})}},mouseEnter:function(b){if(g&&l){d=a(b.currentTarget);var c=this,k=d.find(this.options.dropitems);0<k.length&&k.each(function(){if(c.CheckIntersect(b,a(this)))return d=a(this),!1});this.options.elements&&d.find(this.options.elements).each(function(){if(c.CheckIntersect(b,a(this)))return d=a(this),!1});c.removeAttr();this.SetSide(b);a.isFunction(this.options.onDragEnter)&&this.options.onDragEnter.call(this,b,g,d)}},mouseLeave:function(b){var c=a(b.currentTarget);g&&
d&&!this.CheckIntersect(b,c)&&(this.removeAttr(),d=!1,a.isFunction(this.options.onDragLeave)&&this.options.onDragLeave.call(this,b,g,c))},scroll:function(b){if(g&&l){var c=parseInt((n.height()-a(window.parent).height())/5);b=a(b.currentTarget);"themify_builder_fixed_bottom_scroll"===b.prop("id")?(f="+="+c+"px",h="down"):(f="-="+c+"px",h="up");0<c?t=b.height():f=!1}},checkScrollEnd:function(){var b=n.scrollTop();return"up"===h&&0!==b||"down"===h&&a(window.parent).height()+b!==n.height()},CheckIntersect:function(b,
a){var c=a.offset();return b.pageX>=c.left&&b.pageX<=c.left+a.outerWidth()&&b.pageY>=c.top&&b.pageY<=c.top+a.outerHeight()},scrollUp:function(a){g&&l&&(f=h=!1,n.add(n.closest("html")).stop())},iframeEnter:function(a){g&&l&&(a.stopPropagation(),u=!0,r.hide(),p.show(),this.setCurrentPlaceHolder())},iframeLeave:function(a){if(g&&l){a.stopPropagation();var b=this;setTimeout(function(){u=h?("desktop"===e||"block"===p.css("display"))&&b.checkScrollEnd():!1;u||(p.hide(),r.show(),b.setCurrentPlaceHolder())},
5)}},changeMode:function(b,c,d){e=d;n="desktop"===e?a("body"):a("body",q)}};a.fn.ThemifyDraggable=function(b){return this.each(function(){a.data(this,"plugin_ThemifyDraggable")||a.data(this,"plugin_ThemifyDraggable",new m(this,b))})}})(jQuery);
